# Повторное выполнение с добавлением заданий (после сброса состояния)

from fpdf import FPDF

class PDF(FPDF):
    def header(self):
        self.set_font("DejaVu", "B", 14)
        self.cell(0, 10, "Курс по HTML и CSS с заданиями", ln=True, align="C")

    def chapter_title(self, title):
        self.set_font("DejaVu", "B", 12)
        self.ln(5)
        self.set_text_color(0, 0, 128)
        self.cell(0, 10, title, ln=True)
        self.set_text_color(0, 0, 0)

    def chapter_body(self, body):
        self.set_font("DejaVu", "", 11)
        self.multi_cell(0, 8, body)
        self.ln()

    def add_chapter(self, title, body):
        self.add_page()
        self.chapter_title(title)
        self.chapter_body(body)

# Загрузка шрифтов DejaVu
pdf = PDF()
pdf.add_font("DejaVu", "", "/usr/share/fonts/truetype/dejavu/DejaVuSans.ttf", uni=True)
pdf.add_font("DejaVu", "B", "/usr/share/fonts/truetype/dejavu/DejaVuSans-Bold.ttf", uni=True)
pdf.set_auto_page_break(auto=True, margin=15)

# Восстановим содержание с заданиями
html_css_course_with_tasks = [
    ("Модуль 1: Введение в HTML",
     "HTML (HyperText Markup Language) — язык разметки, с помощью которого создаются веб-страницы. "
     "Он определяет структуру и содержимое сайта: заголовки, текст, изображения, ссылки и прочее.\n\n"
     "Каждый HTML-документ начинается с декларации <!DOCTYPE html>, которая сообщает браузеру, "
     "что используется HTML5. Далее идут корневые теги <html>, <head> и <body>.\n\n"
     "Пример:\n<!DOCTYPE html>\n<html>\n  <head>\n    <title>Моя первая страница</title>\n  </head>\n  <body>\n    <h1>Привет, мир!</h1>\n  </body>\n</html>\n\n"
     "Задание:\nСоздайте HTML-документ, в котором будет заголовок, параграф и список из 3 пунктов."),
    
    ("Модуль 2: Текст и форматирование",
     "HTML позволяет структурировать текст с помощью заголовков (от <h1> до <h6>), параграфов (<p>) и специальных тегов форматирования: "
     "<strong> — жирный, <em> — курсив. Списки бывают маркированные (<ul>) и нумерованные (<ol>), а элементы списка — <li>.\n\n"
     "Задание:\nСделайте страницу с новостной статьёй, в которой есть заголовок, подзаголовки, списки и выделения."),
    
    ("Модуль 3: Ссылки и изображения",
     "Тег <a> создаёт гиперссылку. Атрибут href указывает адрес, а target=\"_blank\" открывает в новом окне. "
     "Изображения вставляются через <img>, где src — путь к файлу, alt — текст для отображения при ошибке загрузки.\n\n"
     "Задание:\nСоздайте страницу с 3 ссылками: одна внутренняя, одна внешняя и одна открывающаяся в новой вкладке. Вставьте картинку."),
    
    ("Модуль 4: Таблицы",
     "Таблицы используются для представления данных в строках и столбцах. "
     "<table> — контейнер таблицы, <tr> — строка, <td> — ячейка, <th> — заголовок. "
     "Атрибуты colspan и rowspan объединяют ячейки по ширине и высоте.\n\n"
     "Задание:\nСделайте таблицу расписания на неделю с объединением ячеек для выходных."),
    
    ("Модуль 5: Формы",
     "Формы используются для ввода данных пользователем. Элементы формы: <form>, <input>, <textarea>, <select>, <button>. "
     "<input> имеет типы: text, password, checkbox, radio, email и другие.\n\n"
     "Задание:\nСоздайте форму с полями: имя, email, сообщение. Добавьте кнопку отправки."),
    
    ("Модуль 6: Работа с мультимедиа",
     "Для добавления видео используется тег <video>, для аудио — <audio>. Атрибут controls отображает кнопки управления. "
     "Файлы должны быть в поддерживаемых браузером форматах (mp4, mp3 и т.п.).\n\n"
     "Задание:\nДобавьте видео и аудиофайл на страницу. Включите управление воспроизведением."),
    
    ("Модуль 7: Семантические теги HTML5",
     "Семантические теги описывают назначение блоков: <header> — шапка, <nav> — навигация, <main> — основное содержимое, "
     "<section> и <article> — разделы и статьи, <aside> — боковая панель, <footer> — подвал.\n\n"
     "Они помогают поисковикам и делают код понятнее.\n\n"
     "Задание:\nСоздайте шаблон сайта, используя <header>, <nav>, <main>, <section>, <footer>."),
    
    ("Модуль 8: Подключение CSS",
     "CSS (Cascading Style Sheets) — язык стилей, который управляет внешним видом HTML-элементов. "
     "Стили можно подключать:\n1. Встроенно — через атрибут style\n2. Внутри <style> в <head>\n3. Внешне — через <link>\n\n"
     "Селекторы позволяют применять стили к тегам, классам (.class), идентификаторам (#id).\n\n"
     "Задание:\nСделайте цветной текст с отступами и рамкой, подключив CSS через <style> и <link>."),
    
    ("Модуль 9: Основы CSS-селекторов и блоков",
     "CSS-селекторы:\n- По тегу: p {}\n- По классу: .menu {}\n- По ID: #header {}\n\n"
     "Блочная модель: каждый элемент можно стилизовать с помощью margin, padding, border, width, height.\n\n"
     "Задание:\nСоздайте три блока с разными цветами, используя классы и ID."),
    
    ("Модуль 10: Мини-проект — сайт-визитка",
     "Объединение HTML и CSS для создания сайта из нескольких страниц: «О себе», «Портфолио», «Контакты». "
     "Применение семантики, ссылок, форм и стилей.\n\n"
     "Задание:\nСоздайте мини-сайт с тремя страницами: О себе, Портфолио и Контакты. Добавьте навигацию и оформление.")
]

# Добавление в PDF
for title, body in html_css_course_with_tasks:
    pdf.add_chapter(title, body)

# Сохранение
pdf_path = "/mnt/data/HTML_CSS_Курс_с_заданиями.pdf"
pdf.output(pdf_path)
